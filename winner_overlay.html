<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Winner Overlay</title>
<style>
  html, body {
    margin: 0; padding: 0; width: 100%; height: 100%;
    background: transparent;
    display: flex; align-items: center; justify-content: center;
    font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", Helvetica, Arial, sans-serif;
  }
  .wrap { max-width: 80vw; text-align: center; color: #fff; 
          text-shadow: 0 0 22px rgba(0,0,0,0.65); }
  .names { font-size: 72px; font-weight: 800; line-height: 1.1; margin: 0;
           white-space: pre-wrap; word-break: break-word; }
  .subtitle { margin-top: 20px; font-size: 40px; font-weight: 500; opacity: .9; }
</style>
</head>
<body>
  <div class="wrap">
    <div id="names" class="names">Waiting for winner…</div>
    <div class="subtitle">broke the witch's curse</div>
  </div>
<script>
  const el = document.getElementById('names');

  function formatForOverlay(raw) {
    // raw can already be "Amie, Casey, and Eleni" from your page.
    // Just trim and show it; allow \n to force line breaks if you ever want them.
    return (raw || '').toString().trim();
  }

  function renderFromStorage() {
    const stored = localStorage.getItem('winnerNames') || '';
    el.textContent = formatForOverlay(stored) || 'Waiting for winner…';
  }

  // Initial render
  renderFromStorage();

  // Update live if another page on the same origin changes it
  window.addEventListener('storage', (e) => {
    if (e.key === 'winnerNames') renderFromStorage();
  });

  // Also poll every second as a safety net (OBS Browser Source sometimes misses the storage event)
  setInterval(renderFromStorage, 1000);
</script>
</body>
</html>
