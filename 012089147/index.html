<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>The Witching Hour</title>
<style>
  :root { color-scheme: dark; }
  html, body {
    margin: 0;
    height: 100%;
    background: #0b0b0d;
    color: #eae9ef;
    font: 16px/1.5 ui-serif, Georgia, "Times New Roman", serif;
  }
  .wrap {
    max-width: 680px;
    margin: 12vh auto;
    padding: 0 20px;
    text-align: center;
  }
  h1 {
    font-size: clamp(22px, 3.8vw, 34px);
    font-weight: 700;
    margin: 0 0 18px;
    text-transform: lowercase;
  }
  .q { opacity: 0.9; margin-bottom: 16px; }
  form {
    display: grid;
    grid-template-columns: 1fr auto;
    gap: 10px;
    margin: 10px auto 6px;
  }
  input[type="text"] {
    background: #121217;
    border: 1px solid #242432;
    color: #eae9ef;
    padding: 12px 14px;
    border-radius: 10px;
    width: 100%;
  }
  button {
    background: #2a2834;
    border: 1px solid #3a3847;
    color: #eae9ef;
    padding: 12px 16px;
    border-radius: 10px;
    cursor: pointer;
    text-transform: lowercase;
  }
  button:hover { background: #343244; }
  .msg {
    min-height: 24px;
    font-size: 14px;
    color: #c25b5b;
    margin-top: 6px;
  }
  .sigil {
    display: none;
    margin: 28px auto 0;
    max-width: min(80vw, 520px);
    filter: drop-shadow(0 0 20px rgba(255, 0, 80, 0.25));
  }
  .unlocked { color: #7ae7a7; }
  .note {
    margin-top: 14px;
    font-size: 12px;
    color: #8a8996;
    opacity: .9;
  }
</style>
</head>
<body>
<div class="wrap">
  <h1>the witching hour</h1>
  <div class="q" id="question">Q. What is the name of the hand in the Addams Family?</div>

  <form id="puzzleForm" autocomplete="off">
    <input id="answerInput" type="text" placeholder="answer" />
    <button type="submit">submit</button>
  </form>

  <div class="msg" id="message"></div>
  <img id="sigil" class="sigil" alt="sigil unlocked" />
  <div class="note">üïØÔ∏è write the sigil down. you will need it later.</div>
</div>

<script>
  const RUNE_SRC = "./Rune_Othala.png";

  // Normalization: lowercase + remove all non-alphanumerics
  function normalize(s) {
    return (s || "").toLowerCase().replace(/[^a-z0-9]+/g, "");
  }

  async function sha256Hex(str) {
    const enc = new TextEncoder();
    const data = enc.encode(str);
    const hash = await crypto.subtle.digest("SHA-256", data);
    return [...new Uint8Array(hash)].map(b => b.toString(16).padStart(2, "0")).join("");
  }

  // Accepted answers: "thing" and "thething"
  const ACCEPTED_HASHES = [
    "5de94d691ae3039a3f5d362fea9a35964fe0cc4ae44a6a84266d3614755c69b2", // "thing"
    "5438f17843560df7b7e62330c3894a0ce6c0ac57c52eb844e1cb9db40578e2fa"  // "thething"
  ];

  c

